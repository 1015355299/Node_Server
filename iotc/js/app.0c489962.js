(function(e){function t(t){for(var s,r,n=t[0],c=t[1],l=t[2],u=0,h=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(h.length)h.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},o={app:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("85ec"),o=a.n(s);o.a},3863:function(e,t,a){},"45d9":function(e,t,a){"use strict";var s=a("920e"),o=a.n(s);o.a},"4ffd":function(e,t,a){e.exports=a.p+"img/logo.30fea7dc.png"},5328:function(e,t,a){"use strict";var s=a("57e7"),o=a.n(s);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=(a("034f"),a("2877")),n={},c=Object(r["a"])(n,o,i,!1,null,null,null),l=c.exports,d=a("8c4f"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("div",{staticClass:"container-main"},[s("header",{staticClass:"container-header"},[s("el-menu",{staticClass:"nav-menu",attrs:{"default-active":"home",mode:"horizontal","text-color":"#ffffffaa","active-text-color":"#ffd04baa",router:""}},[s("div",{staticClass:"logo-img"},[s("img",{attrs:{src:a("4ffd"),alt:"logo"}})]),s("el-menu-item",{attrs:{index:"home"}},[e._v("首页")]),s("el-menu-item",{staticClass:"ll",attrs:{index:"control"}},[e._v("控制中心")])],1)],1),s("div",{staticClass:"container-body"},[s("router-view")],1)])])},h=[],p={data:function(){return{var:""}}},m=p,f=(a("cd25"),Object(r["a"])(m,u,h,!1,null,"327fc618",null)),_=f.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("h3",{staticClass:"title"},[e._v("5102物联网控制平台")]),a("div",{staticClass:"login-container"},[a("form",{attrs:{action:""},on:{submit:e.login}},[a("ul",{staticClass:"login-check"},[a("li",{staticClass:"login-title"},[e._v("登录")]),a("li",{staticClass:"login-username"},[a("label",{staticClass:"iconfont icon-wo",attrs:{for:"username"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.username,expression:"model.username"}],attrs:{id:"username"},domProps:{value:e.model.username},on:{input:function(t){t.target.composing||e.$set(e.model,"username",t.target.value)}}})]),a("li",{staticClass:"login-password"},[a("label",{staticClass:"iconfont icon-suo",attrs:{for:"password"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.model.password,expression:"model.password"}],attrs:{id:"password",type:"password"},domProps:{value:e.model.password},on:{input:function(t){t.target.composing||e.$set(e.model,"password",t.target.value)}}})]),e._m(0)])])])])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"login-button"},[a("button",{attrs:{type:"submit"}},[e._v(" NEXT DOOR ")])])}],b={data:function(){return{model:{}}},methods:{login:function(){"mycar"==this.model.username&&"1234"==this.model.password?(sessionStorage.setItem("token","true"),this.$message.success("登录成功！"),this.$router.push("/layout")):this.$message.warning("账号或密码错误！")}}},w=b,y=(a("45d9"),Object(r["a"])(w,g,v,!1,null,"437b6092",null)),C=y.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-main"},[a("div",{staticClass:"main-container"},[e._m(0),a("div",{staticClass:"main-body",staticStyle:{color:"#fff"}},[a("div",{staticClass:"ls-item main-body-top"},[a("i"),a("div",{staticClass:"car-state",attrs:{title:e.isConnected?"服务器已连接":"服务器未连接"}},[a("div",{class:e.isConnected?"car-state-connected":"car-state-disconnect"},[a("i",{class:"iconfont "+(e.isConnected?"icon-B":"icon-duankailianjie1")})])]),a("div",{staticClass:"car-state",attrs:{title:e.curEchartsData.car_control_transmission_state?"小车在线":"小车离线"}},[a("i",{class:"iconfont icon-zaixian "+(e.curEchartsData.car_control_transmission_state?"car-state-connected":"car-state-disconnect")})]),a("div",{attrs:{id:"power",title:"电量"}}),a("div",{staticClass:"zhenglv",attrs:{title:"帧率"}},[a("i",{staticClass:"iconfont icon-frequency",staticStyle:{color:"yellow","padding-right":"10px"}}),e._v(e._s(e.curEchartsData.camera_frame)+" FPS ")]),a("div",{staticClass:"openImg"},[e._v(" 实时视频 "),a("el-switch",{staticStyle:{display:"block","margin-left":"10px"},attrs:{"inactive-value":1,"active-value":0,title:e.propsIsOk["camera_is_abort"]?"":"生效中",disabled:!e.propsIsOk["camera_is_abort"]},on:{change:function(t){return e.handleCameraChange("camera_is_abort")}},model:{value:e.curEchartsData.camera_is_abort,callback:function(t){e.$set(e.curEchartsData,"camera_is_abort",t)},expression:"curEchartsData.camera_is_abort"}})],1)]),a("div",{staticClass:"ls-item img-container"},[a("i"),a("div",{class:e.curEchartsData.camera_is_abort?"offline":"online"},[e._v(" "+e._s(e.curEchartsData.camera_is_abort?"● offLine":"● Live")+" ")]),a("div",{class:e.propsIsOk["camera_is_abort"]&&e.hasReceiveImgData?"hidden":"is-disabled-0"},[e._v(" "+e._s(e.curEchartsData.camera_is_abort?"视频已断开":"视频连接中...")+" ")]),a("img",{attrs:{id:"imgData"}}),a("div",{staticClass:"downloadImg",attrs:{title:"保存图片"},on:{click:e.handleSaveImg}},[a("i",{staticClass:"iconfont icon-baocuntupian"})])]),a("div",{staticClass:"ls-item main-body-bottom"},[a("i"),a("el-slider",{staticClass:"set-speed-whole",attrs:{min:0,max:200,"show-tooltip":"",vertical:"",height:"120","format-tooltip":function(e){return"设置旋转速度:"+e+"cm/s"}},model:{value:e.curEchartsData.set_dir_speed_whole,callback:function(t){e.$set(e.curEchartsData,"set_dir_speed_whole",t)},expression:"curEchartsData.set_dir_speed_whole"}}),a("el-slider",{staticClass:"duoji-2",attrs:{min:-45,max:135,"show-tooltip":"",vertical:"",step:1,height:"120",disabled:!e.propsIsOk["cur_duoji_2_angle"],title:e.propsIsOk["cur_duoji_2_angle"]?"":"生效中","format-tooltip":function(e){return"二维:"+(e<=0?"下旋"+-e:"上旋"+e)+"°"}},on:{change:function(t){return e.handleChangeDuoji("cur_duoji_2_angle")}},model:{value:e.curEchartsData.cur_duoji_2_angle,callback:function(t){e.$set(e.curEchartsData,"cur_duoji_2_angle",t)},expression:"curEchartsData.cur_duoji_2_angle"}}),a("div",{staticClass:"car-update",attrs:{title:"小车数据更新到云端"},on:{click:function(t){return e.handleSyncData("car")}}},[a("i",{staticClass:"iconfont icon-iconset0349"})]),a("div",{staticClass:"cloud-sync",attrs:{title:"云端数据同步到小车"},on:{click:function(t){return e.handleSyncData("cloud")}}},[a("i",{staticClass:"iconfont icon-ziyuan1412"})]),a("div",{staticClass:"drag-base"}),a("div",{attrs:{id:"drag-gun"}}),a("div",{attrs:{id:"drag-pointer"}}),a("div",{staticClass:"drag-mask"}),a("div",{staticClass:"turn-left",attrs:{title:"左旋"},on:{mousedown:function(t){return e.handleDirChange(1)},mouseup:function(t){return e.handleDirChange(0)},touchstart:function(t){return e.handleDirChange(1)},touchend:function(t){return e.handleDirChange(0)}}},[a("i",{staticClass:"iconfont icon-zuozhuan"})]),a("div",{staticClass:"turn-right",attrs:{title:"右旋"},on:{mousedown:function(t){return e.handleDirChange(-1)},mouseup:function(t){return e.handleDirChange(0)},touchstart:function(t){return e.handleDirChange(-1)},touchend:function(t){return e.handleDirChange(0)}}},[a("i",{staticClass:"iconfont icon-youzhuan"})]),a("el-slider",{staticClass:"duoji-1",attrs:{min:-135,max:135,step:1,"show-tooltip":"",disabled:!e.propsIsOk["cur_duoji_1_angle"],title:e.propsIsOk["cur_duoji_1_angle"]?"":"生效中","format-tooltip":function(e){return"一维:"+(e<=0?"左旋"+-e:"右旋"+e)+"°"}},on:{change:function(t){return e.handleChangeDuoji("cur_duoji_1_angle")}},model:{value:e.curEchartsData.cur_duoji_1_angle,callback:function(t){e.$set(e.curEchartsData,"cur_duoji_1_angle",t)},expression:"curEchartsData.cur_duoji_1_angle"}}),a("div",{staticClass:"speed-level"},[a("div",{class:"speed-level-stage "+(4===e.speedLevel?"cur-speed-level":""),on:{click:function(t){return e.handleSpeedLevel(4)}}},[e._v(" 低速 ")]),a("div",{class:"speed-level-stage "+(2===e.speedLevel?"cur-speed-level":""),on:{click:function(t){return e.handleSpeedLevel(2)}}},[e._v(" 中速 ")]),a("div",{class:"speed-level-stage "+(1===e.speedLevel?"cur-speed-level":""),on:{click:function(t){return e.handleSpeedLevel(1)}}},[e._v(" 高速 ")])]),a("div",{staticClass:"duoji-reset",attrs:{title:"舵机复位"},on:{click:e.handleDuojiReset}},[a("i",{staticClass:"iconfont icon-fuwei"})])],1)]),a("div",{staticClass:"right-aside"},[a("div",{staticClass:"rs-item"},[a("i"),a("div",{class:e.propsIsOk["cur_duoji_1_angle"]?"hidden":"is-disabled-1"},[e._v(" 生效中 ")]),a("div",{class:e.propsIsOk["cur_duoji_2_angle"]?"hidden":"is-disabled-2"},[e._v(" 生效中 ")]),a("div",{attrs:{id:"duoji-angle"}})]),a("div",{staticClass:"rs-item"},[a("i"),a("div",{staticClass:"camera-state-title"},[e._v("摄像头状态")]),a("div",{staticClass:"camera-state-content"},[a("div",{staticClass:"camera-left"},[a("ul",[a("li",[a("i",{staticClass:"iconfont icon-14"}),e._v("对比度："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_contrast"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_contrast"],title:e.propsIsOk["camera_contrast"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_contrast")}},model:{value:e.curEchartsData.camera_contrast,callback:function(t){e.$set(e.curEchartsData,"camera_contrast",t)},expression:"curEchartsData.camera_contrast"}},e._l(e.selectList,(function(t){return a("el-option",{key:t,attrs:{label:t+"级",value:t}},[e._v(e._s(t)+" 级 ")])})),1)],1),a("li",[a("i",{staticClass:"iconfont icon-saturation"}),e._v("饱和度："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_saturation"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_saturation"],title:e.propsIsOk["camera_saturation"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_saturation")}},model:{value:e.curEchartsData.camera_saturation,callback:function(t){e.$set(e.curEchartsData,"camera_saturation",t)},expression:"curEchartsData.camera_saturation"}},e._l(e.selectList,(function(t){return a("el-option",{key:t,attrs:{label:t+"级",value:t}},[e._v(e._s(t)+" 级 ")])})),1)],1),a("li",[a("i",{staticClass:"iconfont icon-heibaipingheng"}),e._v("白平衡："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_light_mode"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_light_mode"],title:e.propsIsOk["camera_light_mode"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_light_mode")}},model:{value:e.curEchartsData.camera_light_mode,callback:function(t){e.$set(e.curEchartsData,"camera_light_mode",t)},expression:"curEchartsData.camera_light_mode"}},e._l(e.selectList,(function(t){return a("el-option",{key:t,attrs:{label:t+"级",value:t}},[e._v(e._s(t)+" 级 ")])})),1)],1),a("li",[a("i",{staticClass:"iconfont icon-football_name"}),e._v("模式："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_mode"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_mode"],title:e.propsIsOk["camera_mode"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_mode")}},model:{value:e.curEchartsData.camera_mode,callback:function(t){e.$set(e.curEchartsData,"camera_mode",t)},expression:"curEchartsData.camera_mode"}},[a("el-option",{attrs:{label:"连续",value:0}}),a("el-option",{attrs:{label:"拍照",value:1}})],1)],1),a("li",[a("i",{staticClass:"iconfont icon-geshi_tupianjpg"}),e._v("格式："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_workmode"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_workmode"],title:e.propsIsOk["camera_workmode"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_workmode")}},model:{value:e.curEchartsData.camera_workmode,callback:function(t){e.$set(e.curEchartsData,"camera_workmode",t)},expression:"curEchartsData.camera_workmode"}},[a("el-option",{attrs:{label:"JPG",value:1}})],1)],1)])]),a("div",{staticClass:"camera-right"},[a("ul",[a("li",[a("i",{staticClass:"iconfont icon-brightj2"}),e._v("亮度："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_brightness"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_brightness"],title:e.propsIsOk["camera_brightness"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_brightness")}},model:{value:e.curEchartsData.camera_brightness,callback:function(t){e.$set(e.curEchartsData,"camera_brightness",t)},expression:"curEchartsData.camera_brightness"}},e._l(e.selectList,(function(t){return a("el-option",{key:t,attrs:{label:t+"级",value:t}},[e._v(e._s(t)+" 级 ")])})),1)],1),a("li",[a("i",{staticClass:"iconfont icon-texiao"}),e._v("特效："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_effect"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_effect"],title:e.propsIsOk["camera_effect"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_effect")}},model:{value:e.curEchartsData.camera_effect,callback:function(t){e.$set(e.curEchartsData,"camera_effect",t)},expression:"curEchartsData.camera_effect"}},e._l(e.camera_effectList,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),a("li",[a("i",{staticClass:"iconfont icon-puguang"}),e._v("曝光："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_autoexposure_level"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_autoexposure_level"],title:e.propsIsOk["camera_autoexposure_level"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_autoexposure_level")}},model:{value:e.curEchartsData.camera_autoexposure_level,callback:function(t){e.$set(e.curEchartsData,"camera_autoexposure_level",t)},expression:"curEchartsData.camera_autoexposure_level"}},e._l(e.selectList,(function(t){return a("el-option",{key:t,attrs:{label:t+"级",value:t}},[e._v(e._s(t)+" 级 ")])})),1)],1),a("li",[a("i",{staticClass:"iconfont icon-tiaoxingma"}),e._v("彩条："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_color_bar"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_color_bar"],title:e.propsIsOk["camera_color_bar"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_color_bar")}},model:{value:e.curEchartsData.camera_color_bar,callback:function(t){e.$set(e.curEchartsData,"camera_color_bar",t)},expression:"curEchartsData.camera_color_bar"}},[a("el-option",{attrs:{label:"关闭",value:0}}),a("el-option",{attrs:{label:"开启",value:1}})],1)],1),a("li",[a("i",{staticClass:"iconfont icon-quanping_huaban1"}),e._v("尺寸："),a("el-select",{class:"select-item "+(e.propsIsOk["camera_size"]?"":"invalid"),attrs:{placeholder:"请选择","popper-class":"option-list",disabled:!e.propsIsOk["camera_size"],title:e.propsIsOk["camera_size"]?"":"生效中"},on:{change:function(t){return e.handleCameraChange("camera_size")}},model:{value:e.curEchartsData.camera_size,callback:function(t){e.$set(e.curEchartsData,"camera_size",t)},expression:"curEchartsData.camera_size"}},e._l(e.camera_size,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1)])])])]),a("div",{staticClass:"rs-item"},[a("i"),a("div",{staticClass:"stop-history-update",attrs:{title:e.stopHistoryUpdate?"开启更新":"停止更新"},on:{click:function(){return e.stopHistoryUpdate=!e.stopHistoryUpdate}}},[a("i",{class:"iconfont "+(e.stopHistoryUpdate?"icon-sync":"icon-tingzhi1"),style:"color:"+(e.stopHistoryUpdate?"yellow":"red")})]),a("div",{attrs:{id:"history-data"}})])])])])},D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left-aside"},[a("div",{staticClass:"ls-item"},[a("i"),a("div",{attrs:{id:"speed-whool"}})]),a("div",{staticClass:"ls-item"},[a("i"),a("div",{attrs:{id:"speed-every"}})])])}],E=(a("99af"),a("4160"),a("d81d"),a("b680"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("2b3d"),a("2909")),k=a("b85c"),S=(a("96cf"),a("1da1")),O=a("ade3"),I={data:function(){var e={cur_speed_whole:0,cur_speed_angle:0,set_speed_whole:0,set_speed_angle:0,set_speed_dir:0,set_dir_speed_whole:30,res_power:50,cur_duoji_1_angle:0,cur_duoji_2_angle:0,camera_mode:0,camera_workmode:1,camera_contrast:2,camera_saturation:4,camera_effect:0,camera_autoexposure_level:0,camera_light_mode:4,camera_brightness:3,camera_color_bar:0,camera_size:5,camera_is_abort:1,camera_frame:0,car_control_transmission_state:0,history_frame:[0],history_speed:[0],history_count:[1]};return{echartsData:e,options:[{backgroundColor:"transparent",title:{show:!0,text:"速度",left:"center",top:"5%",color:"#000000",fontSize:14,width:50,height:20},series:[{type:"gauge",min:0,max:200,startAngle:200,endAngle:-20,center:["50%","60%"],animationDurationUpdate:1e3,itemStyle:{color:"#77ddff",shadowColor:"rgba(0,138,255,0.45)",shadowBlur:10,shadowOffsetX:2,shadowOffsetY:2},progress:{show:!0,width:10,roundCap:!1,itemStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:1,colorStops:[{offset:0,color:"#aaf"},{offset:1,color:"#55f"}],global:!1}}},axisLine:{lineStyle:{width:10}},axisTick:{show:!0},splitLine:{length:10,lineStyle:{width:2,color:"#aaf"}},axisLabel:{distance:20,color:"#999",fontSize:9},pointer:{icon:"path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z",length:"80%",width:10,offsetCenter:[0,"5%"]},anchor:{show:!0,showAbove:!0,size:15,itemStyle:{borderWidth:8}},detail:{valueAnimation:!0,fontSize:20,color:"#bbbbff",offsetCenter:["20%","60%"],formatter:function(e){return"{value|"+e.toFixed(0)+"}{unit|cm/s}"},rich:{value:{fontSize:30,fontWeight:"bolder",color:"#eee"},unit:{fontSize:14,color:"#aaa",padding:[0,0,-10,10]}}},data:[{value:e.cur_speed_whole}]}]},{backgroundColor:"transparent",series:[{name:"左前轮",type:"gauge",color:["#f00"],min:-180,max:180,splitNumber:6,radius:"40%",animationDurationUpdate:1e3,center:["28%","28%"],axisLine:{lineStyle:{width:5,color:[[.5,"#ee5511"],[1,"#1155ee"]],shadowColor:"#7f7f7f",shadowBlur:2},backgroundColor:"none"},axisTick:{length:5,lineStyle:{color:"auto"},distance:1},splitLine:{length:3,lineStyle:{color:"rgba(255,255,255,0.7)"},distance:1},axisLabel:{borderRadius:1,color:"rgba(255,255,255,0.7)",padding:1,distance:10,fontSize:8},title:{fontSize:10,fontColor:"#FFF",color:"#FFF",paddingTop:5,offsetCenter:[0,"95%"]},itemStyle:{color:"#1092ff"},detail:Object(O["a"])({shadowOffsetX:0,shadowOffsetY:0,textBorderColor:"#000",textBorderWidth:1,textShadowBlur:1,textShadowColor:"#fff",textShadowOffsetX:0,textShadowOffsetY:0,paddingTop:5,fontFamily:"digital",fontSize:12,width:15,color:"#fff",rich:{},offsetCenter:[10,"70%"],formatter:function(e){return"{value|"+e.toFixed(0)+"}{unit|cm/s}"}},"rich",{value:{fontSize:12,fontWeight:"bolder",color:"#eee"},unit:{fontSize:8,color:"#eee",padding:[0,0,-2,5]}}),data:[{value:e.cur_speed_lq,name:"左前轮"}]},{name:"右前轮",type:"gauge",color:["#f00"],min:-180,max:180,splitNumber:6,radius:"40%",animationDurationUpdate:1e3,center:["72%","28%"],axisLine:{lineStyle:{width:5,color:[[.5,"#ee5511"],[1,"#1155ee"]],shadowColor:"#7f7f7f",shadowBlur:2},backgroundColor:"none"},axisTick:{length:5,lineStyle:{color:"auto"},distance:1},splitLine:{length:3,lineStyle:{color:"rgba(255,255,255,0.7)"},distance:1},axisLabel:{borderRadius:1,color:"rgba(255,255,255,0.7)",padding:1,distance:10,fontSize:8},title:{fontSize:10,fontColor:"#FFF",color:"#FFF",paddingTop:5,offsetCenter:[0,"95%"]},itemStyle:{color:"#1092ff"},detail:Object(O["a"])({shadowOffsetX:0,shadowOffsetY:0,textBorderColor:"#000",textBorderWidth:1,textShadowBlur:1,textShadowColor:"#fff",textShadowOffsetX:0,textShadowOffsetY:0,paddingTop:5,fontFamily:"digital",fontSize:12,width:15,color:"#fff",rich:{},offsetCenter:[10,"70%"],formatter:function(e){return"{value|"+e.toFixed(0)+"}{unit|cm/s}"}},"rich",{value:{fontSize:12,fontWeight:"bolder",color:"#eee"},unit:{fontSize:8,color:"#eee",padding:[0,0,-2,5]}}),data:[{value:e.cur_speed_rq,name:"右前轮"}]},{name:"左后轮",type:"gauge",color:["#f00"],min:-180,max:180,splitNumber:6,radius:"40%",animationDurationUpdate:1e3,center:["28%","75%"],axisLine:{lineStyle:{width:5,color:[[.5,"#ee5511"],[1,"#1155ee"]],shadowColor:"#7f7f7f",shadowBlur:2},backgroundColor:"none"},axisTick:{length:5,lineStyle:{color:"auto"},distance:1},splitLine:{length:3,lineStyle:{color:"rgba(255,255,255,0.7)"},distance:1},axisLabel:{borderRadius:1,color:"rgba(255,255,255,0.7)",padding:1,distance:10,fontSize:8},title:{fontSize:10,fontColor:"#FFF",color:"#FFF",paddingTop:5,offsetCenter:[0,"95%"]},itemStyle:{color:"#1092ff"},detail:Object(O["a"])({shadowOffsetX:0,shadowOffsetY:0,textBorderColor:"#000",textBorderWidth:1,textShadowBlur:1,textShadowColor:"#fff",textShadowOffsetX:0,textShadowOffsetY:0,paddingTop:5,fontFamily:"digital",fontSize:12,width:15,color:"#fff",rich:{},offsetCenter:[10,"70%"],formatter:function(e){return"{value|"+e.toFixed(0)+"}{unit|cm/s}"}},"rich",{value:{fontSize:12,fontWeight:"bolder",color:"#eee"},unit:{fontSize:8,color:"#eee",padding:[0,0,-2,5]}}),data:[{value:e.cur_speed_lh,name:"左后轮"}]},{name:"右后轮",type:"gauge",color:["#f00"],min:-180,max:180,splitNumber:6,radius:"40%",animationDurationUpdate:1e3,center:["72%","75%"],axisLine:{lineStyle:{width:5,color:[[.5,"#ee5511"],[1,"#1155ee"]],shadowColor:"#7f7f7f",shadowBlur:2},backgroundColor:"none"},axisTick:{length:5,lineStyle:{color:"auto"},distance:1},splitLine:{length:3,lineStyle:{color:"rgba(255,255,255,0.7)"},distance:1},axisLabel:{borderRadius:1,color:"rgba(255,255,255,0.7)",padding:1,distance:10,fontSize:8},title:{fontSize:10,fontColor:"#FFF",color:"#FFF",paddingTop:5,offsetCenter:[0,"95%"]},itemStyle:{color:"#1092ff"},detail:Object(O["a"])({shadowOffsetX:0,shadowOffsetY:0,textBorderColor:"#000",textBorderWidth:1,textShadowBlur:1,textShadowColor:"#fff",textShadowOffsetX:0,textShadowOffsetY:0,paddingTop:5,fontFamily:"digital",fontSize:12,width:15,color:"#fff",rich:{},offsetCenter:[10,"70%"],formatter:function(e){return"{value|"+e.toFixed(0)+"}{unit|cm/s}"}},"rich",{value:{fontSize:12,fontWeight:"bolder",color:"#eee"},unit:{fontSize:8,color:"#eee",padding:[0,0,-2,5]}}),data:[{value:e.cur_speed_rh,name:"右后轮"}]}]},{backgroundColor:"transparent",title:{show:!0,text:"舵机角度",left:"center",top:"5%",color:"#000000",fontSize:12,width:50,height:20},series:[{type:"gauge",radius:"50%",center:["30%","55%"],min:135,max:-135,startAngle:225,endAngle:-45,axisLine:{show:!0,lineStyle:{width:40,color:[[1,new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#5098ed88"},{offset:1,color:"#5098ed08"}])]]}},axisTick:{show:!0,splitNumber:2,length:5,distance:-45},splitLine:{show:!1},axisLabel:{show:!0,fontSize:6,distance:-35},pointer:{show:!1},detail:{show:!1}},{type:"gauge",radius:"50%",center:["30%","55%"],min:135,max:-135,startAngle:225,endAngle:-45,axisLine:{show:!0,lineStyle:{width:3,color:[[0,"#00FCF7"],[1,"#5098cc"]]}},pointer:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},detail:{show:!1}},{type:"gauge",animationDurationUpdate:1e3,radius:"20%",center:["30%","55%"],min:135,max:-135,startAngle:225,endAngle:-45,axisLine:{show:!1},pointer:{show:!0,icon:"roundRect",length:"220%",width:"10",offsetCenter:[0,0]},anchor:{show:!0,showAbove:!0,size:10,itemStyle:{color:"#5098aa"},icon:"circle"},itemStyle:{color:"rgba(0,255,255,0.3)"},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},detail:{show:!0,offsetCenter:["20%","140%"],fontSize:"8",color:"#08b5d6",formatter:function(e){return"{value|"+e.toFixed(0)+"}{unit|°}"},rich:{value:{fontSize:12,fontWeight:"bolder",color:"#eee"},unit:{fontSize:10,color:"#eee",padding:[0,0,2,3]}}},data:[{value:e.cur_duoji_1_angle,name:"一维舵机"}],title:{fontSize:10,fontColor:"#FFF",color:"#FFF",paddingTop:5,offsetCenter:[0,"220%"]}},{type:"gauge",radius:"50%",center:["75%","55%"],min:45,max:-135,startAngle:225,endAngle:45,axisLine:{show:!0,lineStyle:{width:40,color:[[1,new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#5098ed38"},{offset:.5,color:"#5098ed88"},{offset:1,color:"#5098ed38"}])]]}},axisTick:{show:!0,splitNumber:2,length:5,distance:-45},splitLine:{show:!1},axisLabel:{show:!0,fontSize:6,distance:-35},pointer:{show:!1},detail:{show:!1}},{type:"gauge",radius:"50%",center:["75%","55%"],min:45,max:-135,startAngle:225,endAngle:45,axisLine:{show:!0,lineStyle:{width:3,color:[[0,"#00FCF7"],[1,"#5098cc"]]}},pointer:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},detail:{show:!1}},{type:"gauge",animationDurationUpdate:1e3,radius:"20%",center:["75%","55%"],min:45,max:-135,startAngle:225,endAngle:45,axisLine:{show:!1},pointer:{show:!0,icon:"roundRect",length:"220%",width:"10",offsetCenter:[0,0]},anchor:{show:!0,showAbove:!0,size:10,itemStyle:{color:"#5098aa"},icon:"circle"},itemStyle:{color:"rgba(0,255,255,0.3)"},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},detail:{show:!0,offsetCenter:["140%","0%"],fontSize:"8",color:"#08b5d6",formatter:function(e){return"{value|"+e.toFixed(0)+"}{unit|°}"},rich:{value:{fontSize:12,fontWeight:"bolder",color:"#eee"},unit:{fontSize:10,color:"#eee",padding:[0,0,2,3]}}},data:[{value:e.cur_duoji_2_angle,name:"二维舵机"}],title:{fontSize:10,fontColor:"#FFF",color:"#FFF",paddingTop:5,offsetCenter:["140%","80%"]}}]},{backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"shadow",textStyle:{color:"#fff"}}},grid:{borderWidth:0,top:30,bottom:50,textStyle:{color:"#fff"}},legend:{x:"50%",top:"5%",textStyle:{color:"#90979c"},data:["帧率","速度"]},calculable:!0,xAxis:[{type:"category",axisLine:{lineStyle:{color:"rgba(204,187,225,0.5)"}},splitLine:{show:!1},axisTick:{show:!1},data:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"rgba(204,187,225,0.5)"}}}],dataZoom:[{show:!0,height:20,xAxisIndex:[0],bottom:10,start:70,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#5B3AAE"},textStyle:{color:"rgba(204,187,225,0.5)"},fillerColor:"rgba(67,55,160,0.4)",borderColor:"rgba(204,187,225,0.5)"},{type:"inside",show:!0,height:20,start:0,end:100}],series:[{name:"帧率",type:"line",symbolSize:6,symbol:"circle",itemStyle:{color:"#6f7de3"},data:e.history_frame},{name:"速度",type:"line",symbolSize:6,symbol:"circle",itemStyle:{color:"#c257F6"},data:e.history_speed}]},{backgroundColor:"transparent",xAxis:{max:100,splitLine:{show:!1},axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}},grid:{left:20,top:45,width:80,bottom:40},yAxis:[{type:"category",inverse:!1,data:[{name:"剩余电量",value:e.res_power}],axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1}}],series:[{type:"bar",barWidth:13,silent:!0,itemStyle:{normal:{color:"#1588D1"}},data:[{name:"剩余电量",value:e.res_power}],z:1,animationEasing:"elasticOut"},{type:"pictorialBar",itemStyle:{normal:{color:"#07314a"}},symbolRepeat:"fixed",symbolMargin:1,symbol:"rect",symbolClip:!0,symbolSize:[2,14],symbolPosition:"start",symbolOffset:[2,-2],symbolBoundingData:100,data:[100],z:2,animationEasing:"elasticOut"},{type:"pictorialBar",symbolBoundingData:100,itemStyle:{normal:{color:"none"}},label:{normal:{formatter:function(e){return"{f| "+e.data+"%}"},rich:{f:{color:"#eee"}},position:"right",distance:10,show:!0}},data:[e.res_power],z:0},{name:"外框",type:"bar",barGap:"-130%",data:[100],barWidth:20,itemStyle:{normal:{barBorderRadius:[2,2,2,2],color:"transparent",barBorderColor:"#1588D1",barBorderWidth:3}},z:0},{type:"scatter",name:"条形",symbol:"roundRect",symbolSize:[5,10],symbolOffset:[2,-2],symbolKeepAspect:!0,itemStyle:{normal:{color:"#1588D1"}},data:[100]}]}],camera_effectList:["正常","负片","黑白","偏红色","偏绿色","偏蓝色","复古"],camera_size:["160*120","176*144","320*240","400*240","352*288","640*480","800*600","1024*768","1280*800","1280*960","1440*900","1280*1024","1600*1200"],curEchartsData:{cur_speed_whole:0,cur_speed_angle:0,set_speed_whole:0,set_speed_angle:0,set_speed_dir:0,set_dir_speed_whole:30,res_power:50,cur_duoji_1_angle:0,cur_duoji_2_angle:0,camera_mode:0,camera_workmode:1,camera_contrast:2,camera_saturation:4,camera_effect:0,camera_autoexposure_level:0,camera_light_mode:4,camera_brightness:3,camera_color_bar:0,camera_size:5,camera_is_abort:1,camera_frame:0,car_control_transmission_state:0,history_frame:[0],history_speed:[0],history_count:[1]},els:[],myEcharts:[],wss:null,dragEl:null,gunEl:null,maxDistance:80,statesData:null,DeviceName:"test2",ProductId:"K8LG8U17CW",clientToken:"",propsIsOk:{},propsTime:{},selectList:[0,1,2,3,4],stopHistoryUpdate:!1,preImgData:null,syncProps:["set_speed_whole","set_speed_dir","set_dir_speed_whole","cur_duoji_1_angle","cur_duoji_2_angle","camera_mode","camera_workmode","camera_contrast","camera_saturation","camera_effect","camera_autoexposure_level","camera_light_mode","camera_brightness","camera_color_bar","camera_size","camera_is_abort"],hasReceiveImgData:!1,isConnected:!1,isConnectedTime:0,speedLevel:4}},watch:{echartsData:{handler:"putEchartsData",deep:!0},"curEchartsData.camera_is_abort":function(){this.hasReceiveImgData=!1}},mounted:function(){this.mapElementToEcharts(),this.drawAllEcharts(),this.openWebSocket(),this.initDrag(),this.initShowHistory(),this.setMove=this.throttle(this.setMove,200)},befordistory:function(){this.wss&&this.wss.close(),this.wss=null,this.els=null,this.myEcharts=null,this.dragEl=null,this.gunEl=null,window.onresize=null},computed:{K:function(){return 160/this.speedLevel/this.maxDistance}},methods:{putProps:function(e,t){return this.$http.put(e,{Payload:JSON.stringify({clientToken:this.clientToken,method:"control",params:t}),DeviceName:this.DeviceName,ProductId:this.ProductId,Topic:"$thing/down/property/".concat(this.ProductId,"/").concat(this.DeviceName)})},getHistoryProp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return this.$http.post("/historyPropValue",{DeviceName:this.DeviceName,FieldName:e,Limit:t})},putMove:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.putMove.timer){a&&(this.putMove.timer=setTimeout((function(){t.putMove.timer=0}),s));var o={set_speed_whole:"w-0",set_speed_angle:"a-0",set_speed_dir:"d-0",set_dir_speed_whole:"w-1"},i={};for(var r in e)i[o[r]]=e[r];return this.$http.post("/move",{data:i,debounce:a,time:s})}},showHistoryData:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([e.getHistoryProp("camera_frame"),e.getHistoryProp("cur_speed_whole")]);case 3:a=t.sent,t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:s=["history_frame","history_speed"],a&&a.forEach((function(t,a){t&&t.data&&t.data.Results instanceof Array&&(e.echartsData[s[a]]=t.data.Results.map((function(e){return+e.Value})))}));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},propsChange:function(e){var t=arguments,a=this;return Object(S["a"])(regeneratorRuntime.mark((function s(){var o,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=t.length>1&&void 0!==t[1]&&t[1],o||(a.propsIsOk[e]=!1,a.propsTime[e]=setTimeout((function(){a.propsIsOk[e]=!0,a.curEchartsData[e]=a.echartsData[e]}),1e4)),s.prev=2,i=Object(O["a"])({},e,a.curEchartsData[e]),s.next=6,a.putProps("/putProps",i);case 6:s.sent,s.next=11;break;case 9:s.prev=9,s.t0=s["catch"](2);case 11:case"end":return s.stop()}}),s,null,[[2,9]])})))()},handleSpeedLevel:function(e){this.speedLevel=e},handleSyncData:function(e){if("car"===e)this.statesData&&Object.assign(this.curEchartsData,this.echartsData);else{this.hasReceiveImgData=!1;var t,a=Object(k["a"])(this.syncProps);try{for(a.s();!(t=a.n()).done;){var s=t.value;this.propsChange(s)}}catch(o){a.e(o)}finally{a.f()}}},handleSaveImg:function(){var e=document.createElement("a");e.style.display="none",e.href=this.preImgData,e.setAttribute("download","图片".concat(Date.now(),".jpg")),document.body.appendChild(e),e.click()},handleDirChange:function(e){this.curEchartsData.set_speed_dir=e,e?this.putMove({set_dir_speed_whole:this.curEchartsData.set_dir_speed_whole,set_speed_dir:e}):this.resetMove()},handleCameraChange:function(e){this.propsChange(e)},handleDuojiReset:function(){this.curEchartsData.cur_duoji_1_angle=0,this.curEchartsData.cur_duoji_2_angle=0,this.propsChange("cur_duoji_1_angle"),this.propsChange("cur_duoji_2_angle")},handleChangeDuoji:function(e){this.propsChange(e)},setEl:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.dragEl.display="none",this.gunEl.display="none",this.dragEl.style.left=e+"px",this.dragEl.style.top=t+"px",this.gunEl.style.width=a+"px",this.dragEl.display="block",this.gunEl.display="block"},resetMove:function(){this.putMove({set_speed_whole:0,set_speed_angle:0,set_speed_dir:0,set_dir_speed_whole:this.curEchartsData.set_dir_speed_whole},!0,500)},throttle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=null;return function(){var o=arguments;if(s)return Promise.resolve();var i=this;return a?(a=!1,new Promise((function(t,a){s=setTimeout((function(){t(e.call.apply(e,[i].concat(Object(E["a"])(o)))),s=null}))}))):new Promise((function(a,r){s=setTimeout((function(){a(e.call.apply(e,[i].concat(Object(E["a"])(o)))),s=null}),t)}))}},setMove:function(e,t,a,s){e*=this.K,0===a&&0===s?t=0:a>=0&&s>=0?t=270-180*t/Math.PI:a>=0&&s<=0?t=270+180*t/Math.PI:a<=0&&s>=0?t=90+180*t/Math.PI:a<=0&&s<=0&&(t=90-180*t/Math.PI),this.putMove({set_speed_whole:Math.round(e),set_speed_angle:Math.round(t),set_speed_dir:0})},pollState:function(){var e=this;this.isConnected||this.$message.success("小车已连接MQTT服务器"),this.isConnected=!0,this.isConnectedTime&&clearTimeout(this.isConnectedTime),this.isConnectedTime=setTimeout((function(){e.isConnected=!1,e.curEchartsData.car_control_transmission_state=0,e.hasReceiveImgData=!1,e.statesData=null,e.curEchartsData.camera_is_abort=1,e.$message.warning("小车连接断开")}),1e4)},initShowHistory:function(){var e=this;setInterval((function(){e.stopHistoryUpdate||e.showHistoryData()}),2e3)},setRotate:function(e,t,a){this.gunEl.display="none",e>=0&&t>=0?this.gunEl.style.transform="rotate(".concat(180*a/Math.PI,"deg)"):e<=0&&t<=0?this.gunEl.style.transform="rotate(".concat(180*(Math.PI+a)/Math.PI,"deg)"):e<=0&&t>=0?this.gunEl.style.transform="rotate(".concat(180*(Math.PI-a)/Math.PI,"deg)"):e>=0&&t<=0&&(this.gunEl.style.transform="rotate(".concat(180*-a/Math.PI,"deg)")),this.gunEl.display="block"},getDegree:function(e,t,a,s){return a===e?Math.PI/2:s===t?0:Math.abs(Math.atan((s-t)/(a-e)))},getDistance:function(e,t,a,s){var o=Math.abs(t-s),i=Math.abs(e-a);return o/Math.sin(Math.atan(o/i))||i},initDrag:function(){var e=this;this.dragEl=document.getElementById("drag-pointer"),this.gunEl=document.getElementById("drag-gun");var t,a,s,o,i,r,n=this.dragEl.offsetLeft,c=this.dragEl.offsetTop,l=!1;t=a=s=o=i=r=0;var d=function(e){return function(s){l=!0,t="pc"==e?s.pageX:s.changedTouches[0].pageX,a="pc"==e?s.pageY:s.changedTouches[0].pageY}};this.dragEl.onmousedown=d("pc"),this.dragEl.ontouchstart=d();var u=function(t){l=!1,e.setEl(n,c),e.resetMove()};this.dragEl.onmouseup=u,this.dragEl.ontouchend=u,this.dragEl.parentElement.parentElement.onmouseup=u,this.dragEl.parentElement.parentElement.ontouchend=u;var h=function(d){return function(u){if(l){var h="pc"==d?u.pageX:u.changedTouches[0].pageX,p="pc"==d?u.pageY:u.changedTouches[0].pageY;i=e.getDegree(t,a,h,p),r=e.getDistance(t,a,h,p),r>e.maxDistance?(r=e.maxDistance,s=Math.cos(i)*(h>t?e.maxDistance:-e.maxDistance),o=Math.sin(i)*(p>a?e.maxDistance:-e.maxDistance)):(s=h-t,o=p-a),e.setRotate(s,o,i),e.setEl(n+s,c+o,r+5),e.setMove(r,i,s,o)}}};this.dragEl.parentElement.parentElement.onmousemove=h("pc"),this.dragEl.parentElement.parentElement.ontouchmove=h()},putEchartsData:function(){if(this.statesData){for(var e in this.options[0].series[0].data[0].value=this.echartsData.cur_speed_whole,this.options[1].series[0].data[0].value=this.echartsData.cur_speed_lq,this.options[1].series[1].data[0].value=this.echartsData.cur_speed_rq,this.options[1].series[2].data[0].value=this.echartsData.cur_speed_lh,this.options[1].series[3].data[0].value=this.echartsData.cur_speed_rh,this.options[2].series[2].data[0].value=-this.echartsData.cur_duoji_1_angle,this.options[2].series[5].data[0].value=-this.echartsData.cur_duoji_2_angle,this.stopHistoryUpdate||(this.options[3].series[0].data=Object(E["a"])(this.echartsData.history_frame).reverse(),this.options[3].series[1].data=Object(E["a"])(this.echartsData.history_speed).reverse()),this.options[4].yAxis[0].data[0].value=this.echartsData.res_power,this.options[4].series[0].data[0].value=this.echartsData.res_power,this.options[4].series[2].data[0]=this.echartsData.res_power,this.curEchartsData.camera_frame=this.echartsData.camera_frame,this.isConnected&&(this.curEchartsData.car_control_transmission_state=this.echartsData.car_control_transmission_state),this.echartsData)void 0===this.propsIsOk[e]&&this.$set(this.propsIsOk,e,!0),void 0===this.propsTime[e]&&this.$set(this.propsTime,e,0),this.curEchartsData[e]===this.echartsData[e]&&(this.propsIsOk[e]=!0,clearTimeout(this.propsTime[e]));for(var t in this.els)this.stopHistoryUpdate&&3==t||this.myEcharts[t].setOption(this.options[t])}},openWebSocket:function(){var e=this;this.wss=new WebSocket("wss://wlw.5102it.cn/websocket"),this.wss.onopen=function(){console.log("wss：连接建立")},this.wss.onmessage=function(t){if("ping"===t.data)return setTimeout((function(){e.wss.send("pong")}),3e3);if("string"===typeof t.data){e.pollState();var a=(JSON.parse(t.data)||{}).data;a&&(e.statesData||(setTimeout((function(){e.$message.warning("同步小车数据中...")}),1e3),setTimeout((function(){e.handleSyncData("car"),e.$message.success("小车数据同步完成")}),6e3)),e.statesData=a,e.clientToken=e.statesData.payload.clientToken,Object.assign(e.echartsData,e.statesData.payload.params))}else e.preImgData=URL.createObjectURL(t.data),document.getElementById("imgData").src=e.preImgData,e.hasReceiveImgData=!0},this.wss.onerror=function(t){e.wss.close(),console.log("wss：连接出错")},this.wss.onclose=function(t,a){console.log("wss：连接关闭"),setTimeout((function(){console.log("ws：重试中..."),e.openWebSocket()}),1e3)}},mapElementToEcharts:function(){this.els.push(document.getElementById("speed-whool")),this.els.push(document.getElementById("speed-every")),this.els.push(document.getElementById("duoji-angle")),this.els.push(document.getElementById("history-data")),this.els.push(document.getElementById("power"))},drawAllEcharts:function(){var e=this;for(var t in this.els){var a=this.$echarts.init(this.els[t],"dark");a.setOption(this.options[t]),this.myEcharts.push(a)}window.onresize=function(t){e.initDrag(),e.myEcharts.forEach((function(e){return e.resize()}))}}}},L=I,z=(a("5328"),a("a23e"),Object(r["a"])(L,x,D,!1,null,"7539de44",null)),j=z.exports;s["default"].use(d["a"]);var T=[{path:"/login",name:"login",component:C,meta:{isPublic:!0}},{path:"/",name:"main",redirect:"/home"},{path:"/layout",name:"layout",component:_,children:[{path:"/home",name:"home",component:j}]}],F=new d["a"]({routes:T});F.beforeEach((function(e,t,a){a()}));var M=F,P=(a("0fae"),a("9e2f")),$=a.n(P);a("c69f");s["default"].use($.a);a("6672");var B=a("bc3a"),A=a.n(B),R=a("313e");s["default"].prototype.$echarts=R,s["default"].config.productionTip=!1,s["default"].prototype.$http=A.a.create({baseURL:"https://wlw.5102it.cn"}),new s["default"]({router:M,render:function(e){return e(l)}}).$mount("#app")},"57e7":function(e,t,a){},6672:function(e,t,a){},"85ec":function(e,t,a){},"920e":function(e,t,a){},a23e:function(e,t,a){"use strict";var s=a("3863"),o=a.n(s);o.a},a4f2:function(e,t,a){},c69f:function(e,t,a){},cd25:function(e,t,a){"use strict";var s=a("a4f2"),o=a.n(s);o.a}});